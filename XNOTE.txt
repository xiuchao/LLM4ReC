set -x OPENAI_API_KEY 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


set CUDA_VISIBLE_DEVICES 0
python3 0_LAA.py \
  --input_image assets/demo3.jpg \
  --request "red stool on the left of the yellow stool" \
  --output_dir "outputs/laa_modular/" \
  --box_threshold 0.35 \
  --text_threshold 0.35 \
  --iou_threshold 0.6 \
  --device "cuda"


# --------------------------------------------------------------------------
set CUDA_VISIBLE_DEVICES 1
python3 0_LAA.py \
  --openai_key "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" \
  --config GroundingDINO/groundingdino/config/GroundingDINO_SwinT_OGC.py \
  --grounded_checkpoint groundingdino_swint_ogc.pth \
  --sam_checkpoint sam_vit_h_4b8939.pth \
  --input_image assets/demo3.jpg \
  --output_dir "outputs/laa/" \
  --box_threshold 0.35 \
  --text_threshold 0.35 \
  --iou_threshold 0.6 \
  --request "red stool on the left of the yellow stool" \
  --device "cuda"


# --------------------------------------------------------------------------
set CUDA_VISIBLE_DEVICES 1
python3 0_LAA.py \
  --config GroundingDINO/groundingdino/config/GroundingDINO_SwinT_OGC.py \
  --grounded_checkpoint groundingdino_swint_ogc.pth \
  --sam_checkpoint sam_vit_h_4b8939.pth \
  --input_image assets/demo3.jpg \
  --output_dir "outputs/laa/black stool" \
  --openai_key "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" \
  --box_threshold 0.35 \
  --text_threshold 0.35 \
  --iou_threshold 0.6 \
  --device "cuda"


# --------------------------------------------------------------------------
# GroundingDINO    @DONE 
python3 1_grdino_demo.py \
  --config GroundingDINO/groundingdino/config/GroundingDINO_SwinT_OGC.py \
  --grounded_checkpoint groundingdino_swint_ogc.pth \
  --input_image IKEA/IMG_2.jpg \
  --output_dir "outputs/IMG2" \
  --box_threshold 0.3 \
  --text_threshold 0.25 \
  --text_prompt "cup" \
  --device "cuda"

python3 1_grdino_demo.py \
  --config GroundingDINO/groundingdino/config/GroundingDINO_SwinT_OGC.py \
  --grounded_checkpoint groundingdino_swint_ogc.pth \
  --input_image assets/demo3.jpg \
  --output_dir "outputs/grdino/demo3/" \
  --box_threshold 0.3 \
  --text_threshold 0.25 \
  --text_prompt "stool" \
  --device "cuda"


# GroundSAM   
# CUDA_VISIBLE_DEVICES=0
python3 2_grsam_demo.py \
  --config GroundingDINO/groundingdino/config/GroundingDINO_SwinT_OGC.py \
  --grounded_checkpoint groundingdino_swint_ogc.pth \
  --sam_checkpoint sam_vit_h_4b8939.pth \
  --input_image assets/demo1.jpg \
  --output_dir "outputs/grsam/" \
  --box_threshold 0.3 \
  --text_threshold 0.25 \
  --text_prompt "bear" \
  --device "cuda"

# GroundSAM + Inpainting.
python3 3_grsam_inpainting_demo.py \
  --config GroundingDINO/groundingdino/config/GroundingDINO_SwinT_OGC.py \
  --grounded_checkpoint groundingdino_swint_ogc.pth \
  --sam_checkpoint sam_vit_h_4b8939.pth \
  --input_image assets/inpaint_demo.jpg \
  --output_dir "outputs/grsam-inpaint/" \
  --box_threshold 0.3 \
  --text_threshold 0.25 \
  --text_prompt "bench" \
  --task_type "inpainting" \
  --inpaint_prompt "A sofa, high quality, detailed" \
  --device "cuda"


# GroundSAM + BLIP
python3 4_automatic_label_demo.py \
  --config GroundingDINO/groundingdino/config/GroundingDINO_SwinT_OGC.py \
  --grounded_checkpoint groundingdino_swint_ogc.pth \
  --sam_checkpoint sam_vit_h_4b8939.pth \
  --input_image assets/demo3.jpg \
  --output_dir "outputs/ref-gpt" \
  --openai_key "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" \
  --box_threshold 0.25 \
  --text_threshold 0.2 \
  --iou_threshold 0.5 \
  --device "cuda"
  
# Gradio app 
python3 5_gradio_app.py



